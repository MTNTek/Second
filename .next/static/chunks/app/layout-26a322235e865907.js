(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{8992:function(e,t,n){Promise.resolve().then(n.t.bind(n,7960,23)),Promise.resolve().then(n.t.bind(n,8003,23)),Promise.resolve().then(n.bind(n,6086)),Promise.resolve().then(n.bind(n,1245))},6086:function(e,t,n){"use strict";n.d(t,{WebVitals:function(){return a}});var r=n(2265);function o(e){window.gtag&&window.gtag("event",e.name,{custom_parameter_1:e.value,custom_parameter_2:e.rating}),fetch("/api/analytics/web-vitals",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name,value:e.value,rating:e.rating,url:window.location.href,timestamp:Date.now()})}).catch(console.error)}function a(){return(0,r.useEffect)(()=>{n.e(216).then(n.bind(n,6430)).then(e=>{let{onCLS:t,onFCP:n,onLCP:r,onTTFB:a,onINP:i}=e;t(o),n(o),r(o),a(o),i(o)})},[]),null}},1245:function(e,t,n){"use strict";n.d(t,{AuthProvider:function(){return i},a:function(){return s}});var r=n(7437),o=n(2265);let a=(0,o.createContext)(void 0);function i(e){let{children:t}=e,[n,i]=(0,o.useState)(null),[s,u]=(0,o.useState)(null),[l,c]=(0,o.useState)(!0);(0,o.useEffect)(()=>{let e=localStorage.getItem("token");e?(u(e),h(e)):c(!1)},[]);let h=async e=>{try{let t=await fetch("/api/auth/me",{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){let{user:e}=await t.json();i(e)}else m()}catch(e){console.error("Failed to fetch user:",e),m()}finally{c(!1)}},f=async(e,t)=>{try{let n=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),r=await n.json();if(n.ok)return u(r.token),i(r.user),localStorage.setItem("token",r.token),r;throw Error(r.error||"Login failed")}catch(e){throw console.error("Login error:",e),e}},d=async e=>{try{let t=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json();if(t.ok)return n;throw Error(n.error||"Registration failed")}catch(e){throw console.error("Registration error:",e),e}},m=()=>{u(null),i(null),localStorage.removeItem("token")};return(0,r.jsx)(a.Provider,{value:{user:n,token:s,loading:l,login:f,register:d,logout:m,isAuthenticated:!!n},children:t})}function s(){let e=(0,o.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},7960:function(){}},function(e){e.O(0,[587,216,744],function(){return e(e.s=8992)}),_N_E=e.O()}]);